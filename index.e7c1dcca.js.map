{"mappings":"AAGkB,MAAZA,EAAO,CACTC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,YAChCE,eAAgBH,SAASC,cAAc,eAKrCG,EAAa,CACfC,IAAK,qCACLC,QAAS,GACTC,UAAW,QACXC,YAAa,aACbC,YAAY,GAKAX,EAAXC,KAAKW,iBAAiB,UAKD,SAARC,GACdA,EAAMC,iBACN,MAAMC,EAAYF,EAAMG,cAAcC,SAAS,GAAGC,MAAMC,OACpDJ,GAW4BK,eAAXC,EAAkBC,EAAYC,GACnD,IACI,MAAMhB,IAAEA,EAAGC,QAAEA,EAAOC,UAAEA,EAASC,YAAEA,EAAWC,WAAEA,GAAeU,EACvDG,QAAiBC,MAAM,gCAAgClB,OAASe,UAAmBC,cAAwBf,gBAAsBC,iBAAyBC,gBAA0BC,KACpLe,QAAeF,EAASG,OAC9BC,QAAQC,IAAIH,E,CAEd,MAAOI,GACLF,QAAQC,IAAIC,E,EAlBhBC,CAAUzB,EAAYS,EAZR,E,IAIlBf,EAAKK,eAAeO,iBAAiB,SAYrC,SAAgBC,GACZe,QAAQC,IAAIhB,E","sources":["src/index.js"],"sourcesContent":["\n\n//Cсылки на элементы ДОМ\nconst refs = {\n    form: document.querySelector(\"#search-form\"),\n    gallery: document.querySelector(\".gallery\"),\n    buttonLoadMore: document.querySelector(\".load-more\")\n}\n\n\n// const URL = \"https://pixabay.com/api/?key=34323245-7786a126c6836dc3f9fefa48e&q=inputValue&page=1&per_page=40&image_type=photo&orientation=horizontal&safesearch=true\";\nconst urlOptions = {\n    key: \"34323245-7786a126c6836dc3f9fefa48e\",\n    perPage: 40,\n    imageType: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n}\nlet currentPage = 1;\n\n//Слушатели событий\nrefs.form.addEventListener(\"submit\", onSubmit);\nrefs.buttonLoadMore.addEventListener(\"click\", onLoad);\n\n\n//Функция обработчик по сабмиту\nfunction onSubmit(event) {\n    event.preventDefault();    \n    const userInput = event.currentTarget.elements[0].value.trim();\n    if(!userInput) \n    getImages(urlOptions, userInput, currentPage);\n}\n\n\nfunction onLoad(event) {\n    console.log(event);\n}\n\n\n//Асинхронная функция стягивания картинок\nasync function getImages(searchUrlOptions, inputValue, currentPage) {\n    try {\n        const { key, perPage, imageType, orientation, safesearch } = searchUrlOptions;\n        const response = await fetch(`https://pixabay.com/api/?key=${key}&q=${inputValue}&page=${currentPage}&per_page=${perPage}&image_type=${imageType}&orientation=${orientation}&safesearch=${safesearch}`);\n        const images = await response.json();\n        console.log(images);\n        return images;\n    } catch (error) {\n        console.log(error);//Сюда поставить кастомное предупреждение\n    }    \n}\n\n"],"names":["$1f0dc3b9307be026$var$refs","form","document","querySelector","gallery","buttonLoadMore","$1f0dc3b9307be026$var$urlOptions","key","perPage","imageType","orientation","safesearch","addEventListener","event","preventDefault","userInput","currentTarget","elements","value","trim","async","searchUrlOptions","inputValue","currentPage1","response","fetch","images","json","console","log","error","$1f0dc3b9307be026$var$getImages"],"version":3,"file":"index.e7c1dcca.js.map"}